angular.module("angular-popover",[]).directive("angularPopover",["$window",function(e){return{restrict:"A",transclude:!0,scope:!0,template:'<div class="angular-popover-container"><div class="angular-popover hide-popover-element"><div ng-if="isTemplateUrl()" ng-include="getContentPopover()" class="angular-popover-template"></div><div ng-if="!isTemplateUrl()" class="angular-popover-template"></div></div><div class="angular-popover-triangle hide-popover-element" ng-class="getTriangleClass()"></div></div><ng-transclude></ng-transclude>',link:function(t,o,l){"static"===e.getComputedStyle(o[0]).position&&(o[0].style.position="relative");var i,a,n,s,r,p,c,d=o[0].querySelector(".angular-popover-container");c=Math.sqrt(112.5),Math.sqrt(450);var v=l.mode||"click",g=void 0===l.closeOnClick?"click"===v:"true"===l.closeOnClick,u=void 0===l.closeOnMouseleave?"mouseover"===v:"true"===l.closeOnMouseleave;t.getContentPopover=function(){return l.templateUrl},t.isTemplateUrl=function(){return!!l.templateUrl},t.getTriangleClass=function(){return"angular-popover-triangle-"+l.direction},u&&o[0].addEventListener("mouseleave",function(){i&&(i.classList.add("hide-popover-element"),p.classList.add("hide-popover-element"))}),"click"!==v&&g&&o[0].addEventListener("click",function(){i&&(i.classList.add("hide-popover-element"),p.classList.add("hide-popover-element"))}),o[0].addEventListener(v,function(){a=o[0].clientHeight,d.style.top=a+"px",n=o[0].clientWidth,i=o[0].querySelector(".angular-popover"),p=o[0].querySelector(".angular-popover-triangle"),"click"===v&&g?(i.classList.toggle("hide-popover-element"),p.classList.toggle("hide-popover-element"),d.classList.toggle("popover-animation"),d.classList.toggle("popover-floating-animation-"+l.direction)):"click"!==v||g?i.classList.contains("hide-popover-element")&&(i.classList.remove("hide-popover-element"),p.classList.remove("hide-popover-element"),d.classList.add("popover-animation"),d.classList.add("popover-floating-animation-"+l.direction)):(i.classList.remove("hide-popover-element"),p.classList.remove("hide-popover-element"),d.classList.add("popover-animation"),d.classList.add("popover-floating-animation-"+l.direction)),i.classList.contains("hide-popover-element")||function(){switch(l.template&&(o[0].querySelector(".angular-popover-template").innerHTML=l.template),l.backgroundColor&&(i.style["background-color"]=l.backgroundColor),l.textColor&&(i.style.color=l.textColor),l.padding&&(i.style.padding=l.padding),s=i.clientHeight,r=i.clientWidth,l.direction){case"top":i.style.top=-a-s-c+"px",i.style.left=(n-r)/2+"px",p.style.top=-a-c+"px",p.style.left=(n-30)/2+"px";break;case"bottom":i.style.top=c+"px",i.style.left=(n-r)/2+"px",p.style.top=-(30-c)+"px",p.style.left=(n-30)/2+"px";break;case"right":i.style.top=(a-s)/2-a+"px",i.style.left=n+c+"px",p.style.top=(a-30)/2-a+"px",p.style.left=n-(30-c)+"px";break;case"left":i.style.top=(a-s)/2-a+"px",i.style.right=c+"px",p.style.top=(a-30)/2-a+"px",p.style.left=-c+"px"}}()})}}}]);